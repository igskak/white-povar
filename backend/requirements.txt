# FastAPI and ASGI server
fastapi==0.109.2
uvicorn[standard]==0.27.1

# Database and ORM
supabase==2.7.4
sqlalchemy>=2.0.25,<2.1.0
alembic>=1.13.0,<2.0.0
asyncpg>=0.29.0,<1.0.0  # Async PostgreSQL driver

# Authentication and Security
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6

# HTTP client and validation (compatible with supabase)
httpx==0.24.1
pydantic>=2.9.0,<3.0.0
pydantic-settings>=2.1.0,<3.0.0

# OpenAI integration
openai>=1.12.0,<2.0.0

# Utilities
python-dotenv==1.0.1
# Use Pillow with better Python 3.13 compatibility
pillow>=10.2.0,<11.0.0
python-json-logger==2.0.7

# Production server
gunicorn==21.2.0

# Development (only install in development)
pytest==7.4.4; python_version < "3.13"
pytest-asyncio==0.23.5; python_version < "3.13"
black==24.1.1; python_version < "3.13"
isort==5.13.2; python_version < "3.13"

# Alternative image processing if Pillow fails
# Uncomment if Pillow installation continues to fail
# pillow-simd>=10.0.0; platform_system != "Windows"
